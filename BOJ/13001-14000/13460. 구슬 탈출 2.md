---
title: "ë°±ì¤€ì•Œê³ ë¦¬ì¦˜ - 13460. êµ¬ìŠ¬ íƒˆì¶œ 2"
date: "2020-08-25T21:38:22.122"
category: "ps"
emoji: "ğŸšŸ"
---

## ë°±ì¤€ì•Œê³ ë¦¬ì¦˜ - 13460. êµ¬ìŠ¬ íƒˆì¶œ 2

- ê´€ë ¨ëœ ì•Œê³ ë¦¬ì¦˜ : BFS, DFS

### ë¬¸ì œ

ìŠ¤íƒ€íŠ¸ë§í¬ì—ì„œ íŒë§¤í•˜ëŠ” ì–´ë¦°ì´ìš© ì¥ë‚œê° ì¤‘ì—ì„œ ê°€ì¥ ì¸ê¸°ê°€ ë§ì€ ì œí’ˆì€ êµ¬ìŠ¬ íƒˆì¶œì´ë‹¤. êµ¬ìŠ¬ íƒˆì¶œì€ ì§ì‚¬ê°í˜• ë³´ë“œì— ë¹¨ê°„ êµ¬ìŠ¬ê³¼ íŒŒë€ êµ¬ìŠ¬ì„ í•˜ë‚˜ì”© ë„£ì€ ë‹¤ìŒ, ë¹¨ê°„ êµ¬ìŠ¬ì„ êµ¬ë©ì„ í†µí•´ ë¹¼ë‚´ëŠ” ê²Œì„ì´ë‹¤.

ë³´ë“œì˜ ì„¸ë¡œ í¬ê¸°ëŠ” N, ê°€ë¡œ í¬ê¸°ëŠ” Mì´ê³ , í¸ì˜ìƒ 1Ã—1í¬ê¸°ì˜ ì¹¸ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì ¸ ìˆë‹¤. ê°€ì¥ ë°”ê¹¥ í–‰ê³¼ ì—´ì€ ëª¨ë‘ ë§‰í˜€ì ¸ ìˆê³ , ë³´ë“œì—ëŠ” êµ¬ë©ì´ í•˜ë‚˜ ìˆë‹¤. ë¹¨ê°„ êµ¬ìŠ¬ê³¼ íŒŒë€ êµ¬ìŠ¬ì˜ í¬ê¸°ëŠ” ë³´ë“œì—ì„œ 1Ã—1í¬ê¸°ì˜ ì¹¸ì„ ê°€ë“ ì±„ìš°ëŠ” ì‚¬ì´ì¦ˆì´ê³ , ê°ê° í•˜ë‚˜ì”© ë“¤ì–´ê°€ ìˆë‹¤. ê²Œì„ì˜ ëª©í‘œëŠ” ë¹¨ê°„ êµ¬ìŠ¬ì„ êµ¬ë©ì„ í†µí•´ì„œ ë¹¼ë‚´ëŠ” ê²ƒì´ë‹¤. ì´ë•Œ, íŒŒë€ êµ¬ìŠ¬ì´ êµ¬ë©ì— ë“¤ì–´ê°€ë©´ ì•ˆ ëœë‹¤.

ì´ë•Œ, êµ¬ìŠ¬ì„ ì†ìœ¼ë¡œ ê±´ë“œë¦´ ìˆ˜ëŠ” ì—†ê³ , ì¤‘ë ¥ì„ ì´ìš©í•´ì„œ ì´ë¦¬ ì €ë¦¬ êµ´ë ¤ì•¼ í•œë‹¤. ì™¼ìª½ìœ¼ë¡œ ê¸°ìš¸ì´ê¸°, ì˜¤ë¥¸ìª½ìœ¼ë¡œ ê¸°ìš¸ì´ê¸°, ìœ„ìª½ìœ¼ë¡œ ê¸°ìš¸ì´ê¸°, ì•„ë˜ìª½ìœ¼ë¡œ ê¸°ìš¸ì´ê¸°ì™€ ê°™ì€ ë„¤ ê°€ì§€ ë™ì‘ì´ ê°€ëŠ¥í•˜ë‹¤.

ê°ê°ì˜ ë™ì‘ì—ì„œ ê³µì€ ë™ì‹œì— ì›€ì§ì¸ë‹¤. ë¹¨ê°„ êµ¬ìŠ¬ì´ êµ¬ë©ì— ë¹ ì§€ë©´ ì„±ê³µì´ì§€ë§Œ, íŒŒë€ êµ¬ìŠ¬ì´ êµ¬ë©ì— ë¹ ì§€ë©´ ì‹¤íŒ¨ì´ë‹¤. ë¹¨ê°„ êµ¬ìŠ¬ê³¼ íŒŒë€ êµ¬ìŠ¬ì´ ë™ì‹œì— êµ¬ë©ì— ë¹ ì ¸ë„ ì‹¤íŒ¨ì´ë‹¤. ë¹¨ê°„ êµ¬ìŠ¬ê³¼ íŒŒë€ êµ¬ìŠ¬ì€ ë™ì‹œì— ê°™ì€ ì¹¸ì— ìˆì„ ìˆ˜ ì—†ë‹¤. ë˜, ë¹¨ê°„ êµ¬ìŠ¬ê³¼ íŒŒë€ êµ¬ìŠ¬ì˜ í¬ê¸°ëŠ” í•œ ì¹¸ì„ ëª¨ë‘ ì°¨ì§€í•œë‹¤. ê¸°ìš¸ì´ëŠ” ë™ì‘ì„ ê·¸ë§Œí•˜ëŠ” ê²ƒì€ ë” ì´ìƒ êµ¬ìŠ¬ì´ ì›€ì§ì´ì§€ ì•Šì„ ë•Œ ê¹Œì§€ì´ë‹¤.

ë³´ë“œì˜ ìƒíƒœê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ìµœì†Œ ëª‡ ë²ˆ ë§Œì— ë¹¨ê°„ êµ¬ìŠ¬ì„ êµ¬ë©ì„ í†µí•´ ë¹¼ë‚¼ ìˆ˜ ìˆëŠ”ì§€ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.

### ì…ë ¥

ì²« ë²ˆì§¸ ì¤„ì—ëŠ” ë³´ë“œì˜ ì„¸ë¡œ, ê°€ë¡œ í¬ê¸°ë¥¼ ì˜ë¯¸í•˜ëŠ” ë‘ ì •ìˆ˜ N, M (3 â‰¤ N, M â‰¤ 10)ì´ ì£¼ì–´ì§„ë‹¤. ë‹¤ìŒ Nê°œì˜ ì¤„ì— ë³´ë“œì˜ ëª¨ì–‘ì„ ë‚˜íƒ€ë‚´ëŠ” ê¸¸ì´ Mì˜ ë¬¸ìì—´ì´ ì£¼ì–´ì§„ë‹¤. ì´ ë¬¸ìì—´ì€ '`.`', '`#`', '`O`', '`R`', '`B`' ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤. '`.`'ì€ ë¹ˆ ì¹¸ì„ ì˜ë¯¸í•˜ê³ , '`#`'ì€ ê³µì´ ì´ë™í•  ìˆ˜ ì—†ëŠ” ì¥ì• ë¬¼ ë˜ëŠ” ë²½ì„ ì˜ë¯¸í•˜ë©°, '`O`'ëŠ” êµ¬ë©ì˜ ìœ„ì¹˜ë¥¼ ì˜ë¯¸í•œë‹¤. '`R`'ì€ ë¹¨ê°„ êµ¬ìŠ¬ì˜ ìœ„ì¹˜, '`B`'ëŠ” íŒŒë€ êµ¬ìŠ¬ì˜ ìœ„ì¹˜ì´ë‹¤.

ì…ë ¥ë˜ëŠ” ëª¨ë“  ë³´ë“œì˜ ê°€ì¥ìë¦¬ì—ëŠ” ëª¨ë‘ '`#`'ì´ ìˆë‹¤. êµ¬ë©ì˜ ê°œìˆ˜ëŠ” í•œ ê°œ ì´ë©°, ë¹¨ê°„ êµ¬ìŠ¬ê³¼ íŒŒë€ êµ¬ìŠ¬ì€ í•­ìƒ 1ê°œê°€ ì£¼ì–´ì§„ë‹¤.

### ì¶œë ¥

ìµœì†Œ ëª‡ ë²ˆ ë§Œì— ë¹¨ê°„ êµ¬ìŠ¬ì„ êµ¬ë©ì„ í†µí•´ ë¹¼ë‚¼ ìˆ˜ ìˆëŠ”ì§€ ì¶œë ¥í•œë‹¤. ë§Œì•½, 10ë²ˆ ì´í•˜ë¡œ ì›€ì§ì—¬ì„œ ë¹¨ê°„ êµ¬ìŠ¬ì„ êµ¬ë©ì„ í†µí•´ ë¹¼ë‚¼ ìˆ˜ ì—†ìœ¼ë©´ -1ì„ ì¶œë ¥í•œë‹¤.

### ì˜ˆì œ 1

```
input : 5 5
        #####
        #..B#
        #.#.#
        #RO.#
        #####
output : 1
```

### ì˜ˆì œ 2

```
input : 7 7
        #######
        #...RB#
        #.#####
        #.....#
        #####.#
        #O....#
        #######
output : 5
```

### ì˜ˆì œ 3

```
input : 7 7
        #######
        #...RB#
        #.#####
        #.....#
        #####.#
        #O....#
        #######
output : 5
```

### ì˜ˆì œ 4

```
input : 10 10
        ##########
        #R#...##B#
        #...#.##.#
        #####.##.#
        #......#.#
        #.######.#
        #.#....#.#
        #.#.#.#..#
        #...#.O#.#
        ##########
output : -1
```

### ì˜ˆì œ 5

```
input : 3 7
        #######
        #R.O.B#
        #######
output : 1
```

### ì˜ˆì œ 6

```
input : 10 10
        ##########
        #R#...##B#
        #...#.##.#
        #####.##.#
        #......#.#
        #.######.#
        #.#....#.#
        #.#.##...#
        #O..#....#
        ##########
output : 7
```

### í•´ê²°

```python
from collections import deque

n, m = map(int, input().split())
a = [list(input().rstrip()) for _ in range(n)]
b = [[[[False] * m for _ in range(n)] for _ in range(m)] for _ in range(n)]

dx = [1, 0, -1, 0]
dy = [0, 1, 0, -1]

q = deque()

# ë¹¨ê°„ êµ¬ìŠ¬ê³¼ íŒŒë€ êµ¬ìŠ¬ì˜ ìœ„ì¹˜


def init():
    # ë¹¨ê°„êµ¬ìŠ¬, íŒŒë€êµ¬ìŠ¬ ì´ˆê¸°í™”
    rx, ry, bx, by = [0] * 4

    # ë¹¨ê°„êµ¬ìŠ¬ íŒŒë€êµ¬ìŠ¬ ìœ„ì¹˜ íŒŒì•…
    for i in range(n):
        for j in range(m):
            if a[i][j] == 'R':
                rx, ry = i, j
            elif a[i][j] == 'B':
                bx, by = i, j

    # ë¹¨ê°„êµ¬ìŠ¬ í˜„ì¬ìœ„ì¹˜, íŒŒë€êµ¬ìŠ¬ í˜„ì¬ìœ„ì¹˜, ì›€ì§ì„ì„ íì— ì €ì¥
    q.append((rx, ry, bx, by, 1))
    b[rx][ry][bx][by] = True


def move(x, y, dx, dy, cnt):
    # . ì´ë¼ë©´ ê³„ì† ì›€ì§ì—¬ì•¼í•¨
    while a[x+dx][y+dy] != '#' and a[x][y] != "O":
        x += dx
        y += dy
        cnt += 1

    return x, y, cnt


def bfs():
    while q:
        # íì— ì²«ë²ˆì§¸ë¡œ ì €ì¥ëœ ë¹¨ê°„êµ¬ìŠ¬, íŒŒë€êµ¬ìŠ¬ ìœ„ì¹˜, íšŸìˆ˜
        _rx, _ry, _bx, _by, d = q.popleft()

        if d > 10:
            break

        for i in range(4):
            nrx, nry, rc = move(_rx, _ry, dx[i], dy[i], 0)
            nbx, nby, bc = move(_bx, _by, dx[i], dy[i], 0)

            # íŒŒë€êµ¬ìŠ¬ì´ ë¹ ì§€ì§€ì•Šìœ¼ë©´ì„œ ë¹¨ê°„êµ¬ìŠ¬ì´ ê³¨ì¸í•˜ëŠ” ì¡°ê±´ (ì„±ê³µ)
            if a[nbx][nby] == 'O':
                continue

            if a[nrx][nry] == 'O':
                print(d)
                return

            # íŒŒë€êµ¬ìŠ¬ê³¼ ë¹¨ê°„êµ¬ìŠ¬ì´ ê²¹ì¹  ë•Œ
            if nrx == nbx and nry == nby:
                if rc > bc:
                    nrx -= dx[i]
                    nry -= dy[i]
                else:
                    nbx -= dx[i]
                    nby -= dy[i]

            # ë¹¨ê°„ êµ¬ìŠ¬ì´ ê³¨ì¸í•˜ì§€ ì•Šì•˜ì„ ë•Œ
            if not b[nrx][nry][nbx][nby]:
                b[nrx][nry][nbx][nby] = True
                q.append((nrx, nry, nbx, nby, d + 1))

    print(-1)


init()
bfs()

```

### ì„¤ëª…

ì—†ìŒ.

### ì¶œì²˜

- https://www.acmicpc.net/problem/12100

### ì°¸ê³ 

- [ì½”ë“œ](https://rebas.kr/724)
